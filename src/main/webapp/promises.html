<div data-lift="surround?with=base-wrap;at=content">
  <head_merge>
    <title lift="Menu.title">Lift 3 Demo: %*%</title>
  </head_merge>
  <div class="main-content">
    <div lift="Notices"></div>

    <div class="tabbable"> <!-- Only required for left/right tabs -->
      <ul class="nav nav-pills">
        <li class="active"><a href="#pane-jquery" data-toggle="tab">Standard Autocomplete</a></li>
        <li><a href="#pane-promises" data-toggle="tab">Roundtrip Promise</a></li>
        <li><a href="#pane-typeahead" data-toggle="tab">Typeahead</a></li>
      </ul>

      <div class="tab-content">

        <div class="tab-pane active" id="pane-jquery">
          <!-- jQuery autocomplete with Ajax function with callback -->
          <div class="hero-unit" lift="AutocompleteSnippet.callback">
            <div class="inner" style="text-align: center">
              <h2>jQuery Callback Autocomplete</h2>
              <form class="input-append" style="width:100%">
                <input id="query_cb" type="text" class="search-box" style="width: 40%;">
                <button type="submit" class="btn btn-primary search-box" id="search-btn">
                  &nbsp;<i class="icon-search icon-white icon-large"></i>&nbsp;
                </button>
              </form>
            </div>
          </div>
        </div>

        <div class="tab-pane" id="pane-promises">
          <!-- jQuery autocomplete with Lift 3 roundtrip -->
          <div class="hero-unit" lift="AutocompleteSnippet.roundTrip">
            <div class="inner" style="text-align: center">
              <h2>jQuery Roundtrip Autocomplete</h2>
              <form class="input-append" style="width:100%">
                <input id="query_rt" type="text" class="search-box" style="width: 40%;">
                <button type="submit" class="btn btn-primary search-box" id="search-btn">
                  &nbsp;<i class="icon-search icon-white icon-large"></i>&nbsp;
                </button>
              </form>
            </div>
          </div>
        </div>

        <div class="tab-pane" id="pane-typeahead">
          <!-- Bootstrap Typeahead with Lift 3 roundtrip -->
          <div class="hero-unit" lift="AutocompleteSnippet.typeAheadRoundTrip">
            <div class="inner" style="text-align: center">
              <h2>Bootstrap Typeahead Roundtrip Autocomplete</h2>
              <form class="input-append" style="width:100%">
                <input id="typeahead_rt" type="text" class="search-box" style="width: 40%;">
                <button type="submit" class="btn btn-primary search-box" id="search-btn">
                  &nbsp;<i class="icon-search icon-white icon-large"></i>&nbsp;
                </button>
              </form>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
  <span data-lift="embed?what=/templates-hidden/parts/footer"></span>
  <tail>
    <script>
      $(document).ready(function() {
        $( "#query_cb" ).autocomplete({
          minLength: 2,
          delay: 200,
          source: function( request, response ) {
            var term = request.term;
            findSuggestions_callback(term, response);
          }
        });

        $( "#query_rt" ).autocomplete({
          minLength: 2,
          delay: 200,
          source: function( request, response ) {
            var term = request.term;
            findSuggestions.find(term).then(response);
          }
        });

        $( "#typeahead_rt" ).typeahead({
          minLength: 2,
          source: function( query, process ) {
            findSuggestions_typeahead.find(query).then(process);
          }
        });

      });
    </script>
  </tail>
</div>
